(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(31)},16:function(t,e,n){},18:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},19:function(t,e,n){},25:function(t,e,n){},27:function(t,e,n){},29:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),c=n(10),s=n.n(c),o=(n(16),n(2)),r=n(3),l=n(5),u=n(4),d=n(6),h=n(1),m=(n(18),n(19),n(21),n(22),function t(){Object(o.a)(this,t),this.getProducts=function(){return new Promise(function(t,e){fetch("http://localhost:3003/product").then(function(e){t(e.json())})})}}),p=(n(25),{}),b=null,f=function t(){return Object(o.a)(this,t),this.postNotification=function(t,e){for(var n=p[t],a=0;a<n.length;a++)n[a].callBack(e)},this.addObserver=function(t,e,n){p[t]||(p[t]=[]);var a={observer:e,callBack:n};p[t].push(a)},this.removeObserver=function(t,e){var n=p[e];if(n)for(var a=0;a<n.length;a++)if(t===n[a].observer){n.splice(a,1),t[e]=n;break}},b||(b=this),b},v=new f,O=null,j=[],L=function t(){return Object(o.a)(this,t),this.isItemOnWishList=function(t){for(var e=0;e<j.length;e++)if(j[e]._id===t._id)return!0;return!1},this.addWishListItem=function(t){j.push(t),v.postNotification("notif_wishlist_changed",j)},this.removeWishListItem=function(t){for(var e=0;e<j.length;e++)if(j[e]._id===t._id){j.splice(e,1),v.postNotification("notif_wishlist_changed",j);break}},O||(O=this),O},W=new L,g=new f,k=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).onButtonClicked=function(){n.state.onWishList?W.removeWishListItem(n.props.product):W.addWishListItem(n.props.product)},n.state={onWishList:W.isItemOnWishList()},n.onButtonsClicked=n.onButtonClicked.bind(Object(h.a)(Object(h.a)(n))),n.onWishListChanged=n.onWishListChanged.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){g.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){g.removeObserver(this.NOTIF_WISHLIST_CHANGED)}},{key:"onWishListChanged",value:function(t){this.setState({onWishList:W.isItemOnWishList(this.props.product)})}},{key:"render",value:function(){var t,e=this;return t=this.state.onWishList?"btn btn-danger":"btn btn-primary",i.a.createElement("div",{className:"card product"},i.a.createElement("img",{className:"card-img-top",src:this.props.product.imgUrl,alt:"Product"}),i.a.createElement("div",{className:"card-block"},i.a.createElement("h4",{className:"card-title"},this.props.product.title),i.a.createElement("p",{className:"card-text"},"Price: $",this.props.product.price),i.a.createElement("a",{href:"#",onClick:function(){return e.onButtonClicked()},className:t},this.state.onWishList?"Remove From Wishlist":"Add To Wishlist")))}}]),e}(a.Component),E=(n(27),n(29),new L),w=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).removeProduct=function(){E.removeWishListItem(n.props.product)},n.removeProduct=n.removeProduct.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("li",{className:"list-group-item pc-condensed"},i.a.createElement("a",{className:"btn btn-outline-danger float-left",onClick:function(){return t.removeProduct()}},"X"),i.a.createElement("p",{className:"d-inline float-left"},this.props.product.title," | ",i.a.createElement("b",null,"$",this.props.product.price)))}}]),e}(a.Component),N=new f,C=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).createWishList=function(){return n.state.wishList.map(function(t){return i.a.createElement(w,{product:t,key:t._id})})},n.state={wishList:[]},n.createWishList=n.createWishList.bind(Object(h.a)(Object(h.a)(n))),n.onWishListChanged=n.onWishListChanged.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){N.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){N.removeObserver(this.NOTIF_WISHLIST_CHANGED)}},{key:"onWishListChanged",value:function(t){this.setState({wishList:t})}},{key:"render",value:function(){return i.a.createElement("div",{className:"card mb-1"},i.a.createElement("div",{className:"card-block"},i.a.createElement("h4",{className:"card-title"},"Wish List"),i.a.createElement("ul",{className:"list-group"},this.createWishList())))}}]),e}(a.Component),_=new m,y=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).loadData=function(){var t=Object(h.a)(Object(h.a)(n));_.getProducts().then(function(e){t.setState({products:e})},function(t){})},n.productList=function(){return n.state.products.map(function(t){return i.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12",key:t._id},i.a.createElement(k,{product:t}))})},n.state={products:[]},n.loadData=n.loadData.bind(Object(h.a)(Object(h.a)(n))),n.productList=n.productList.bind(Object(h.a)(Object(h.a)(n))),n.loadData(),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("nav",{class:"navbar navbar-dark bg-dark"},i.a.createElement("a",{class:"navbar-brand",href:"#"},"Welcome to The Hobby Shop")),i.a.createElement("div",{className:"container-fluid App-main"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 col-sm-6"},i.a.createElement("div",{className:"row"},this.productList())),i.a.createElement("div",{className:"col-md-4 col-sm-6"},i.a.createElement("div",{className:"sticky-top"},i.a.createElement(C,null))))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.006c4f22.chunk.js.map